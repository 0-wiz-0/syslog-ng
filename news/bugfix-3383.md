config: fix error reporting

- Error reporting was fixed for lines longer than 1024 characters.
- The location of the error was incorrectly reported in some cases.
