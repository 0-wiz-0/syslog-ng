# do not edit -- automatically generated by arch changelog
# arch-tag: automatic-ChangeLog--bazsi@balabit.hu--bazsi-1/syslog-ng--mainline--2.0
#

2005-02-28 08:57:20 GMT	Balazs Scheidler <bazsi@balabit.hu>	patch-18

    Summary:
      Changed g_queue_get_length to g_queue_is_empty as it makes syslog-ng compatible with glib 2.2
    Revision:
      syslog-ng--mainline--2.0--patch-18

    2005-02-28  Balazs Scheidler <bazsi@balabit.hu>
    
    	* src/afinter.c: instead of using "!!g_queue_get_length()" use
    	"!g_queue_is_empty()"
    

    modified files:
     ChangeLog src/afinter.c


2005-02-12 23:05:09 GMT	Balazs Scheidler <bazsi@balabit.hu>	patch-17

    Summary:
      Updated documentation (manpages)
    Revision:
      syslog-ng--mainline--2.0--patch-17


    modified files:
     ChangeLog configure.in doc/man/syslog-ng.8
     doc/man/syslog-ng.conf.5 src/main.c


2005-01-22 00:50:50 GMT	Balazs Scheidler <bazsi@balabit.hu>	patch-16

    Summary:
      removed doc/reference/make.sh from dist as it is not needed
    Revision:
      syslog-ng--mainline--2.0--patch-16

    
    

    modified files:
     ChangeLog doc/Makefile.am


2005-01-22 00:48:47 GMT	Balazs Scheidler <bazsi@balabit.hu>	patch-15

    Summary:
      added some missing files to tla
    Revision:
      syslog-ng--mainline--2.0--patch-15

    
    

    new files:
     doc/.arch-ids/Makefile.am.id doc/Makefile.am
     doc/examples/.arch-ids/=id
     doc/examples/.arch-ids/syslog-ng.conf.sample.id
     doc/examples/.arch-ids/syslog-ng.conf.solaris.id
     doc/examples/syslog-ng.conf.sample
     doc/examples/syslog-ng.conf.solaris doc/man/.arch-ids/=id
     doc/man/.arch-ids/syslog-ng.8.id
     doc/man/.arch-ids/syslog-ng.conf.5.id doc/man/syslog-ng.8
     doc/man/syslog-ng.conf.5 doc/reference/.arch-ids/=id
     doc/reference/.arch-ids/syslog-ng.xml.id
     doc/reference/.arch-ids/syslog-ng.xsl.id
     doc/reference/syslog-ng.xml doc/reference/syslog-ng.xsl

    modified files:
     ChangeLog

    new directories:
     doc/examples doc/examples/.arch-ids doc/man doc/man/.arch-ids
     doc/reference doc/reference/.arch-ids


2005-01-22 00:47:35 GMT	Balazs Scheidler <bazsi@balabit.hu>	patch-14

    Summary:
      Updated NEWS file, released syslog-ng 1.9.3
    Revision:
      syslog-ng--mainline--2.0--patch-14

    2005-01-22  Balazs Scheidler <bazsi@balabit.hu>
    
    	* NEWS: updated with 1.9.3 release information
    
    	* configure.in: bumped version to 1.9.3
    

    modified files:
     ChangeLog NEWS configure.in


2005-01-22 00:32:06 GMT	Balazs Scheidler <bazsi@balabit.hu>	patch-13

    Summary:
      added automatic regeneration of the ChangeLog file
    Revision:
      syslog-ng--mainline--2.0--patch-13

    
    

    new files:
     .arch-ids/ChangeLog.id ChangeLog


2005-01-22 00:27:18 GMT	Balazs Scheidler <bazsi@balabit.hu>	patch-12

    Summary:
      Readded and updated documentation from 1.6
    Revision:
      syslog-ng--mainline--2.0--patch-12

    2005-01-22	Balazs Scheidler <bazsi@balabit.hu>
    
    	* src/cfg-lex.l: renamed padding to pad_size to make it compatible
    	with 1.6.x, the '-' character in keywords is taken equivalent to
    	'_', fixed C code indentation to match GNU coding style

    new files:
     doc/.arch-ids/=id doc/security/.arch-ids/=id
     doc/security/.arch-ids/bof-2002-09-27.txt.id
     doc/security/.arch-ids/dos-2000-11-22.txt.id
     doc/security/bof-2002-09-27.txt
     doc/security/dos-2000-11-22.txt

    modified files:
     ChangeLog.0 Makefile.am configure.in src/cfg-grammar.y
     src/cfg-lex.l tests/functional/Makefile.am

    renamed files:
     .arch-ids/ChangeLog.id
       ==> .arch-ids/ChangeLog.0.id
     ChangeLog
       ==> ChangeLog.0

    new directories:
     doc doc/.arch-ids doc/security doc/security/.arch-ids


2005-01-16 17:48:51 GMT	Balazs Scheidler <bazsi@balabit.hu>	patch-11

    Summary:
      added some missing files to tla
    Revision:
      syslog-ng--mainline--2.0--patch-11

    
    

    new files:
     tests/functional/.arch-ids/=id
     tests/functional/.arch-ids/Makefile.am.id
     tests/functional/.arch-ids/func_test.py.id
     tests/functional/Makefile.am tests/functional/func_test.py
     tests/unit/.arch-ids/Makefile.am.id
     tests/unit/.arch-ids/test_msgparse.c.id tests/unit/Makefile.am
     tests/unit/test_msgparse.c

    new directories:
     tests/functional tests/functional/.arch-ids


2005-01-16 17:47:43 GMT	Balazs Scheidler <bazsi@balabit.hu>	patch-10

    Summary:
      added copyright info, beginnings of a testsuite, fixed some configure problems
    Revision:
      syslog-ng--mainline--2.0--patch-10

    2005-01-16  Balazs Scheidler <bazsi@balabit.hu>
    
    	* configure.in: take CFLAGS environment variable into consideration
    	when running configure, link eventlog and glib statically
    
    	* src/fdread.c, src/fdwrite.c: handle EINTR by repeating the read
    	system call
    
    	* src/logreader, src/logwriter.c: handle EAGAIN correctly

    new files:
     .arch-ids/COPYING.id COPYING tests/.arch-ids/Makefile.am.id
     tests/Makefile.am

    removed files:
     tests/.arch-ids/test_msgparse.c.id tests/Makefile.am
     tests/test_msgparse.c

    modified files:
     README configure.in src/Makefile.am src/fdread.c src/fdwrite.c
     src/logreader.c src/logwriter.c

    renamed files:
     tests/.arch-ids/Makefile.am.id
       ==> tests/unit/.arch-ids/=id

    new directories:
     tests/unit tests/unit/.arch-ids


2005-01-15 19:19:05 GMT	Balazs Scheidler <bazsi@balabit.hu>	patch-9

    Summary:
      Set nonblocking mode for g_accepted sockets
    Revision:
      syslog-ng--mainline--2.0--patch-9

    2005-01-15  Balazs Scheidler <bazsi@balabit.hu>
    
    	* src/afsocket.c (afsocket_sd_accept): added g_fd_set_nonblock for
    	new sockets

    modified files:
     src/afsocket.c


2005-01-09 14:34:31 GMT	Balazs Scheidler <bazsi@balabit.hu>	patch-8

    Summary:
      fixed possible deadlocking on the internal message pipe
    Revision:
      syslog-ng--mainline--2.0--patch-8

    2005-01-09  Balazs Scheidler <bazsi@balabit.hu>
    
    	* src/logsource.c: new file, separated flow control related
    	functions from logreader
    
    	* src/logreader.c: LogReader is derived from LogSource
    
    	* src/afinter.c: substituted the pipe used for internal messages
    	with a GQueue

    new files:
     src/.arch-ids/logsource.c.id src/.arch-ids/logsource.h.id
     src/logsource.c src/logsource.h

    modified files:
     src/Makefile.am src/afinter.c src/cfg-grammar.y src/logmsg.c
     src/logmsg.h src/logreader.c src/logreader.h src/messages.c
     src/messages.h


2005-01-05 12:02:01 GMT	Balazs Scheidler <bazsi@balabit.hu>	patch-7

    Summary:
      Fixed a couple of Solaris portability problems
    Revision:
      syslog-ng--mainline--2.0--patch-7

    2005-01-05  Balazs Scheidler <bazsi@balabit.hu>
    
    	* configure.in: added checks for -ldoor, -lsocket, -lnsl and getopt.h
    
    	* other files: fixed a couple of Solaris specific warnings

    modified files:
     configure.in src/cfg.c src/filter.c src/gsockaddr.c
     src/logmsg.c src/macros.c src/main.c


2005-01-03 21:12:30 GMT	Balazs Scheidler <bazsi@balabit.hu>	patch-6

    Summary:
      Updated NEWS file and released 1.9.2
    Revision:
      syslog-ng--mainline--2.0--patch-6

    
    

    modified files:
     NEWS


2004-12-31 14:38:06 GMT	Balazs Scheidler <bazsi@balabit.hu>	patch-5

    Summary:
      added missing macros and brace support in macro expansion
    Revision:
      syslog-ng--mainline--2.0--patch-5

    2004-12-31  Balazs Scheidler <bazsi@balabit.hu>
    
    	* src/macros.c: added PRI and MSGONLY macros
    
    	* src/templates.c: added support for braces around macros for
    	$example: "{MSG}"
    

    modified files:
     ChangeLog src/macros.c src/macros.h src/syslog-ng.conf
     src/templates.c


2004-12-28 23:23:29 GMT	Balazs Scheidler <bazsi@balabit.hu>	patch-4

    Summary:
      fixed couple of bugs
    Revision:
      syslog-ng--mainline--2.0--patch-4

    2004-12-29  Balazs Scheidler <bazsi@balabit.hu>
    
    	* src/afprog.c (afprogram_dd_init): call setsid before launching child,
    	(afprogram_dd_deinit): deinit & unref self->writer here instead of
    	in afprogram_dd_free,
    	
    	* src/center.c (log_center_queue): do not supply self as user_data pointer to 
    	the ack_block callback as that would require adding a reference to self
    
    	* src/dgroup.c (log_dest_group_queue): do not supply self as user_data pointer to 
    	the ack_block callback as that would require adding a reference to self
    	
    	* src/logreader.c: instead of using self->window_size use self->options->window_size
    	so that the window is shared between all LogReaders using the same
    	options,
    	(log_reader_handle_line): add reference to self before supplying it as an argument to 
     	the ack_block callback function,
    	(log_reader_msg_ack): unref the supplied logreader argument

    modified files:
     ChangeLog src/afprog.c src/center.c src/cfg-lex.l src/dgroup.c
     src/logreader.c src/logreader.h src/logwriter.c


2004-12-27 23:27:07 GMT	Balazs Scheidler <bazsi@balabit.hu>	patch-3

    Summary:
      Added a lot of copyright header, docstrings, and some fixes
    Revision:
      syslog-ng--mainline--2.0--patch-3

    2004-12-27  Balazs Scheidler <bazsi@balabit.hu>
    
    	* src/afsocket.c (afsocket_sd_deinit): break circular reference
    	between self->reader and self,
    	(afsocket_sd_notify): do not destroy/unref sender in NC_CLOSE, as
    	afsocket_sd_close_connection already does that,
    	(afsocket_sd_init, afsocket_sd_deinit): removed static,
    	(afsocket_sd_free_instance): renamed from afsocket_sd_free, removed
    	static, created a new afsocket_sd_free function at the same time
    	which is set as the free_fn of AFSocketSourceDriver
    
    	* src/afunix.c: implemented user/group/perm settings
    
    	* src/cfg-grammar.y: added support for log-prefix
    
    	* src/cfg.c: changed default timestamp format to BSD for compatibility
    
    	* src/filter.c: fixed AND and OR operator evaluation, the operands
    	were not correctly saved at initialization time, thus NULL was
    	referenced at evaluation time
    
    	* src/logreader.c: added log_prefix support for all log readers
    
    	* src/logwriter.c: use log_msg_drop instead of a simple log_msg_unref
    
    	* src/main.c: fixed SIGCHLD handling, loop while waitpid returns > 0,
    	added tzset() call

    removed files:
     src/.arch-ids/cfg-grammar.c.id src/.arch-ids/cfg-grammar.h.id
     src/.arch-ids/cfg-lex.c.id src/cfg-grammar.c src/cfg-grammar.h
     src/cfg-lex.c

    modified files:
     ChangeLog configure.in src/affile.c src/affile.h src/afinet.c
     src/afinet.h src/afinter.c src/afinter.h src/afprog.c
     src/afprog.h src/afsocket.c src/afsocket.h src/afstreams.c
     src/afstreams.h src/afunix.c src/afunix.h src/afuser.c
     src/afuser.h src/center.c src/center.h src/cfg-grammar.y
     src/cfg-lex.l src/cfg.c src/cfg.h src/children.c
     src/children.h src/dgroup.c src/dgroup.h src/driver.c
     src/driver.h src/fdread.c src/fdread.h src/fdwrite.c
     src/fdwrite.h src/filter.c src/filter.h src/gsockaddr.c
     src/gsockaddr.h src/logmsg.c src/logmsg.h src/logpipe.c
     src/logpipe.h src/logreader.c src/logreader.h src/logwriter.c
     src/logwriter.h src/macros.c src/macros.h src/main.c
     src/memtrace.h src/messages.c src/messages.h src/misc.c
     src/misc.h src/sdriver.c src/sgroup.c src/sgroup.h
     src/syslog-names.c src/syslog-names.h src/syslog-ng.h
     src/templates.c src/templates.h src/utils.c src/utils.h


2004-12-26 23:24:29 GMT	Balazs Scheidler <bazsi@balabit.hu>	patch-2

    Summary:
      Fixed a lot of memory leaks
    Revision:
      syslog-ng--mainline--2.0--patch-2

    2004-12-27  Balazs Scheidler <bazsi@balabit.hu>
    
    	* src/affile.c (affile_sd_deinit): make sure to break circular
    	reference between self->reader and self, fixes possible memory leak,
    	(affile_sd_free): call log_drv_free_instance
    
    	* src/afinter.c (afinter_sd_deinit): break circular reference
    	between self->reader and self
    
    	* src/afprog.c (afprog_sd_free): added log_drv_free_instance
    
    	* src/afsocket.c (afsocket_sd_deinit): break circular reference
            between self->reader and self,
    	(afsocket_sd_free): added log_drv_free_instance,
    	(afsocket_dd_free): -"-
    
    	* src/afuser.c (afuser_dd_queue): free queued message,
    	(afuser_dd_free): added log_drv_free_instance
    
    	* src/cfg-grammar.y: unref log driver after appending to avoid
    	memory leaks
    
    	* src/cfg.c (cfg_reload_config): fixed possible memory leak when
    	cfg_init fails (free persist),
    	(persist_config_free): added missing free for hashtable
    
    	* src/dgroup.c (log_dest_group_queue): make sure each driver gets
    	its own reference to msg as each will free it on its own, also
    	added an explicit unref at the end of the function
    	(log_dest_group_new): added missing call to log_pipe_init_instance
    
    	* src/gsockaddr.c: removed all low-level g_message invocation,
    	errors should be reported by the caller
    	
    	* src/logpipe.c: added assertions to _ref and _unref
    
    	* src/main.c (main_loop_run): added a missing g_main_loop_unref to
    	avoid memory leaks,
    	(main): call msg_syslog_started at the end of initialization to force
    	messages into the system log
    
    	* src/messages.c (msg_syslog_started): new function to indicate
    	that initialization is finished, messages will be written to
    	stderr instead of the internal() source if syslog is not yet
    	started to let the administrator see important
    	failure messages,
    	(msg_deinit): free the event log context, only close the error pipe
    	if it was really opened
    
    

    modified files:
     src/affile.c src/afinter.c src/afprog.c src/afsocket.c
     src/afstreams.c src/afuser.c src/cfg-grammar.c
     src/cfg-grammar.h src/cfg-grammar.y src/cfg.c src/dgroup.c
     src/gsockaddr.c src/logpipe.c src/main.c src/messages.c
     src/messages.h tests/Makefile.am


2004-12-26 20:38:30 GMT	Balazs Scheidler <bazsi@balabit.hu>	patch-1

    Summary:
      Removed CVS files
    Revision:
      syslog-ng--mainline--2.0--patch-1

    
    


2004-12-26 20:38:05 GMT	Balazs Scheidler <bazsi@balabit.hu>	base-0

    Summary:
      initial import
    Revision:
      syslog-ng--mainline--2.0--base-0

    
    (automatically generated log message)

    new files:
     AUTHORS ChangeLog Makefile.am NEWS README aclocal.m4
     autogen.sh configure.in src/Makefile.am src/affile.c
     src/affile.h src/afinet.c src/afinet.h src/afinter.c
     src/afinter.h src/afprog.c src/afprog.h src/afsocket.c
     src/afsocket.h src/afstreams.c src/afstreams.h src/afunix.c
     src/afunix.h src/afuser.c src/afuser.h src/center.c
     src/center.h src/cfg-grammar.c src/cfg-grammar.h
     src/cfg-grammar.y src/cfg-lex.c src/cfg-lex.l src/cfg.c
     src/cfg.h src/children.c src/children.h src/dgroup.c
     src/dgroup.h src/driver.c src/driver.h src/fdread.c
     src/fdread.h src/fdwrite.c src/fdwrite.h src/filter.c
     src/filter.h src/gsockaddr.c src/gsockaddr.h src/logmsg.c
     src/logmsg.h src/logpipe.c src/logpipe.h src/logreader.c
     src/logreader.h src/logwriter.c src/logwriter.h src/macros.c
     src/macros.h src/main.c src/memtrace.c src/memtrace.h
     src/messages.c src/messages.h src/misc.c src/misc.h
     src/sdriver.c src/sgroup.c src/sgroup.h src/syslog-names.c
     src/syslog-names.h src/syslog-ng.conf src/syslog-ng.h
     src/templates.c src/templates.h src/todo src/utils.c
     src/utils.h tests/Makefile.am tests/test_msgparse.c


